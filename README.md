# java-convenience-store-precourse

# 기능 구현 목록

1. 프로그램이 시작하면 상품과 프로모션을 등록한다.
2. 오늘 가능한 프로모션 목록을 구한다.
3. 현재 재고를 출력한다.
   1. `안녕하세요. W편의점입니다. 현재 보유하고 있는 상품입니다.` 안내 문구를 출력한다.
   2.  남아있는 재고의 이름, 가격, 남은 수량, 프로모션 여부 및 종류를 한줄에 하나씩 출력한다.
        - 가격은 세자리에 한번씩 ,로 끊는다.
        - 남은 수량이 0이면 `재고 없음`으로 표시한다.
        - 적용된 프로모션이 있으면 프로모션 종류를 적고, 없으면 비워둔다.
        - 다음과 같이 출력한다 : `- 콜라 1,000원 10개 탄산2+1`
4. 사용자에게서 구매하고 싶은 상품 종류와 수량을 입력 받는다.
   1. `구매하실 상품명과 수량을 입력해 주세요. (예: [사이다-2],[감자칩-1])` 안내 문구를 출력한다.
   2. 사용자가 잘못된 값을 입력하면 에러메세지를 출력하고 다시 입력받는다.
        - 빈값 또는 빈칸을 입력했을 때
        - 올바른 구분자(`[]`, `,`, `-`)를 써서 구분하지 않았을 때
5. 사용자가 입력한 상품과 수량을 각각 확인한다.
    1. 사용자가 입력한 상품 이름이 등록된 상품인지 확인한다.
    2. 사용자가 입력한 수량이 양의 정수인지 확인한다.
    3. 사용자가 잘못된 값을 입력하면 에러메세지를 출력하고 다시 입력받는다.
6. 각각의 구매 가능 여부를 확인한다.
   1. 각 상품이 모두 구매 수량 이상의 재고를 가지고 있는지 확인한다.
7. 각각의 프로모션 여부를 확인한다.
   1. 각 상품이 프로모션 중인지 확인한다. 프로모션 중이면 7-2, 아니면 7-3로 간다.<br>
   2. 구매 수량과 프로모션 상품 개수, 일반 상품 개수를 비교해 프로모션을 적용한다.
      - 프로모션 적용 가능한 개수와, 적용 불가능한 개수를 파악한다.
      - 프로모션 상품만으로 구매 가능하면 구매를 한다.
        - 이때 사용자가 프로모션 제공 상품 수량으로 나누어떨어지지 않는 개수를 가져왔다면, 더 구매할 것인지 
      - 프로모션 상품만으로 구매가 불가능하면, 일반 상품으로 구매하거나 제외하고 구매한다.
        - 사용자에게 Y/N을 입력받아 결정한다.
   4. 구매한 프로모션 상품의 수량, 총금액/ 구매 상품 중 증정품의 이름과 수량/ 총 구매액과 구매수량/ 행사 할인 금액을 결정한다.
8. 사용자에게서 멤버십 여부를 입력받는다.
   1. `멤버십 할인을 받으시겠습니까? (Y/N)`안내 문구를 출력하고 입력받는다.
   2. 사용자가 잘못된 값을 입력하면 에러메세지를 출력하고 다시 입력받는다.
      - 빈 값이나, 'Y', 'N'이 아닌 값을 입력했을 때
9. 멤버십을 적용한다.
   1. 사용자가 멤버십을 적용하면 8-2로 간다. 그렇지 않으면 9로 간다.
   2. 프로모션 적용 후(ex. 1000원짜리 콜라 2+1 혜택을 받으면 프로모션 적용 금액은 3000원이다.) 남은 금액의 30%를 할인한다.
        - 이때 할인가격이 8000원을 넘기면 8000원만 할인한다.
   3. 총 멤버십 할인 금액과 할인 후 총 결제금액을 결정한다.
10. 영수증을 출력한다.
   - 구매 상품별 이름과 수량, 총금액/ 구매 상품 중 증정품의 이름과 수량/ 총 구매액과 총 구매수량 / 행사 할인 금액 / 멤버십 할인 금액 / 할인 후 총 결제 금액을 정렬하여 표시한다.
11. 재구매 여부를 묻는다.
    1. `감사합니다. 구매하고 싶은 다른 상품이 있나요? (Y/N)` 안내 문구 출력 후 입력받는다.
    2. Y면 2로 간다. N이면 프로그램을 종료한다.
    3. 사용자가 잘못된 값을 입력하면 에러메세지를 출력하고 다시 입력받는다.
    - 빈 값이나, 'Y', 'N'이 아닌 값을 입력했을 때